---
import MainLayout from "./MainLayout.astro";
import SidAssistant from '../components/SidAssistant.astro';

const { title = "Eidolon Capital Intranet" } = Astro.props;
const pathname = Astro.url.pathname;
---

<MainLayout title={title}>
  <div class="window flex flex-col">
    <div class="title-bar">
      <div class="title-bar-text">{title}</div>
    </div>
    <div class="window-body flex-grow">
      <menu role="tablist">
        <li role="tab" aria-selected={pathname.startsWith("/dashboard")}><a href="/dashboard">Dashboard</a></li>
        <li role="tab" aria-selected={pathname.startsWith("/employees")}><a href="/employees">Employees</a></li>
        <li role="tab" aria-selected={pathname.startsWith("/anomalies")}><a href="/anomalies">Anomalies</a></li>
        <li role="tab" aria-selected={pathname.startsWith("/organizations")}>
          <a href="/organizations">Organizations</a>
        </li>
      </menu>
      <slot />
    </div>
    <div class="status-bar mt-auto">
      <div class="status-bar-field">Eidolon Capital Intranet Portal v1.0</div>
      <div class="status-bar-field">System Status: OPERATIONAL</div>
    </div>
  </div>
  <SidAssistant transition:persist />
</MainLayout>

<style>
  .window {
    width: 100%;
    min-height: 80vh;
  }

  @media (min-width: 768px) {
    .window {
      width: 70%;
      max-width: 1400px;
      margin: 0 auto;
    }
  }
</style>
