---
import MainLayout from '../layouts/MainLayout.astro';

const anomalies = await Astro.glob('../content/anomalies/*.md');
---

<MainLayout title="Anomaly Reports - Lovecraft Inc. Intranet">
  <h1>üìä Anomaly Reports</h1>

  <div class="info-box">
    <strong>‚ö†Ô∏è CLASSIFIED INFORMATION</strong> - Level 3 Clearance Required
  </div>

  <div class="sun-field">
    <p>
      This section contains reports on documented anomalous phenomena currently under 
      investigation or containment by Lovecraft Inc. All information is classified and 
      must not be shared outside authorized channels.
    </p>
  </div>

  <h2>Active Anomalies ({anomalies.length})</h2>

  <div class="grid">
    {anomalies.map((anomaly) => (
      <div class="card">
        <h3>{anomaly.frontmatter.title}</h3>
        <table>
          <tr>
            <td><strong>Anomaly ID:</strong></td>
            <td>{anomaly.frontmatter.anomalyId}</td>
          </tr>
          <tr>
            <td><strong>Classification:</strong></td>
            <td>{anomaly.frontmatter.classification}</td>
          </tr>
          <tr>
            <td><strong>Status:</strong></td>
            <td>{anomaly.frontmatter.status}</td>
          </tr>
          <tr>
            <td><strong>Discovery Date:</strong></td>
            <td>{anomaly.frontmatter.discoveryDate}</td>
          </tr>
          <tr>
            <td><strong>Location:</strong></td>
            <td>{anomaly.frontmatter.location}</td>
          </tr>
        </table>
        <br>
        <a href={`/anomalies/${anomaly.frontmatter.anomalyId.toLowerCase()}`} class="button">
          View Full Report
        </a>
      </div>
    ))}
  </div>

  <hr>

  <div class="sun-field">
    <h3>Classification System</h3>
    <ul>
      <li><strong>Class-A:</strong> Highly dangerous, contained with strict protocols</li>
      <li><strong>Class-B:</strong> Moderate risk, under active investigation</li>
      <li><strong>Class-C:</strong> Low risk, monitoring only</li>
      <li><strong>Class-D:</strong> Neutralized or resolved</li>
    </ul>
  </div>
</MainLayout>
