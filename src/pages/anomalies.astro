---
import { getCollection } from 'astro:content';
import ContentLayout from '../layouts/ContentLayout.astro';
import AnomaliesListing from '../components/AnomaliesListing';

const anomalies = await getCollection('anomalies');
const anomaliesData = anomalies.map(anomaly => ({
  id: anomaly.data.id,
  name: anomaly.data.name,
  classification: anomaly.data.classification,
  status: anomaly.data.status,
  discoveryDate: anomaly.data.discoveryDate,
  location: anomaly.data.location,
}));
---

<ContentLayout title="Eidolon Capital Intranet - Anomalies">
  <h1 style="font-size: clamp(24px, 8vw, 48px);">Anomaly Reports</h1>

  <AnomaliesListing anomalies={anomaliesData} client:load />

  <hr>
</ContentLayout>
