---
import ContentLayout from '../../layouts/ContentLayout.astro';

export async function getStaticPaths() {
  const employees = await Astro.glob('../../content/employees/*.md');

  return employees.map((employee) => ({
    params: { id: employee.frontmatter.employeeId.toLowerCase() },
    props: { employee }
  }));
}

const { employee } = Astro.props;
const { Content, frontmatter } = employee;
---

<ContentLayout title={`${frontmatter.name} - Employee Profile`}>
  <h1>Employee Profile</h1>

  <div class="info-box">
    <strong>Personnel File:</strong> {frontmatter.employeeId}
  </div>

  <div class="sun-field">
    <article>
      <Content />
    </article>
  </div>

  <hr>

  <a href="/employees">
    <button>‚Üê Back to Directory</button>
  </a>
</ContentLayout>
